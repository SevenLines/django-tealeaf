{% load sekizai_tags static %}

{% addtoblock "js" %}
    <script src="{% static "js/labscontrol.js" %}"></script>
{% endaddtoblock %}

{% addtoblock "css" %}
    <link rel="stylesheet" href="{% static "css/labs.css" %}"/>
{% endaddtoblock %}

{% addtoblock "top_js" %}
    <script src="{% static "bower_components/jstree/dist/jstree.min.js" %}"></script>
{% endaddtoblock %}

{% addtoblock "css" %}
    <link rel="stylesheet" href="{% static "bower_components/jstree/dist/themes/default/style.min.css" %}"/>
{% endaddtoblock %}

{% if user.is_authenticated %}
    <script src="{% static "bower_components/jquery-form/jquery.form.js" %}"></script>
{% endif %}


{% if user.is_authenticated %}
    {% addtoblock "js" %}
        <script>
            new LabsTree({
                urls: {
                    labs: {
                        update: "{% url "labs.views.labscontrol.update_lab" %}",
                        list: "{% url "labs.views.labscontrol.labs" %}"
                    },
                    tasks: {
                        update: "{% url "labs.views.labscontrol.update_task" %}"
                    },
                    tree: "{% url "labs.views.labscontrol.tree" %}"
                }
            })
        </script>
    {% endaddtoblock %}
{% endif %}
